{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\callf\\\\Desktop\\\\DEV\\\\DigiDigi\\\\vr-nextjs\\\\src\\\\ui\\\\Header\\\\TabsMenu.jsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState } from 'react';\nimport Link from '../../Link';\nimport { DarkModeButton } from '../DarkModeButton';\nimport { Tabs, Tab, Button, makeStyles, MenuItem, MenuList, ClickAwayListener, Grow, Paper, Popper } from '@material-ui/core/';\nimport { usePagesContext } from '../../contexts/PagesContext';\nimport { event as GAevent } from '../../functions/gtag';\nimport LanguageButton from '../LanguageButton';\nimport { useLanguageContext } from '../../contexts/LangContext';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    toolbarMargin: _objectSpread(_objectSpread({}, theme.mixins.toolbar), {}, {\n      marginBottom: '3em'\n    }),\n    tabContainer: {\n      marginLeft: 'auto'\n    },\n    tab: _objectSpread(_objectSpread({}, theme.typography.tab), {}, {\n      minWidth: 10,\n      marginLeft: '10px'\n    }),\n    button: _objectSpread(_objectSpread({}, theme.typography.estimate), {}, {\n      borderRadius: '50px',\n      marginLeft: '50px',\n      color: 'white'\n    }),\n    menu: {\n      backgroundColor: theme.palette.primary.main,\n      color: 'white',\n      borderRadius: '0px',\n      zIndex: 1302\n    },\n    menuItem: _objectSpread(_objectSpread({}, theme.typography.tab), {}, {\n      opacity: 0.7,\n      '&:hover': {\n        opacity: 1\n      },\n      '&.Mui-selected': {\n        opacity: 1\n      }\n    })\n  };\n});\n\nvar TabsMenu = function TabsMenu(props) {\n  _s();\n\n  var _useState = useState(null),\n      anchorEl = _useState[0],\n      setAnchorEl = _useState[1];\n\n  var _useState2 = useState(false),\n      menuOpen = _useState2[0],\n      setMenuOpen = _useState2[1];\n\n  var classes = useStyles();\n\n  var _usePagesContext = usePagesContext(),\n      pages = _usePagesContext.pages,\n      currentPageIndecies = _usePagesContext.currentPageIndecies,\n      setCurrentPageIndecies = _usePagesContext.setCurrentPageIndecies;\n\n  var handleTabChange = function handleTabChange(e, value) {// setCurrentPageIndecies([value, null])\n  };\n\n  var handleMenuClick = function handleMenuClick(event) {\n    setAnchorEl(event.currentTarget);\n    setMenuOpen(true);\n  };\n\n  var handleMenuClose = function handleMenuClose(event) {\n    setAnchorEl(null);\n    setMenuOpen(false);\n  };\n\n  var handleListKeyDown = function handleListKeyDown(event) {\n    if (event.key === 'Tab') {\n      event.preventDefault();\n      setMenuOpen(false);\n    }\n  };\n\n  var handleSubMenuClick = function handleSubMenuClick(event, parentIndex, index) {\n    setAnchorEl(null);\n    setMenuOpen(false); // setCurrentPageIndecies([parentIndex, index])\n  };\n\n  var _useLanguageContext = useLanguageContext(),\n      siteData = _useLanguageContext.siteData,\n      language = _useLanguageContext.language;\n\n  return __jsx(React.Fragment, null, __jsx(Tabs, {\n    value: currentPageIndecies[0],\n    onChange: handleTabChange,\n    className: classes.tabContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }\n  }, pages.map(function (page) {\n    var hasChildren = page.children.length;\n    return __jsx(Tab, {\n      \"aria-owns\": hasChildren && anchorEl ? \"menu-\".concat(page.name) : undefined,\n      \"aria-haspopup\": hasChildren && anchorEl ? true : undefined,\n      onMouseOver: hasChildren ? function (event) {\n        return handleMenuClick(event);\n      } : undefined,\n      label: page.nameLang[language],\n      className: classes.tab,\n      component: Link,\n      href: page.path,\n      key: page.path,\n      onClick: function onClick() {\n        return GAevent({\n          category: 'Menu Buttons',\n          action: \"Desktop Tabs \".concat(page.name, \" Click\"),\n          label: 'Website Actions',\n          value: '0'\n        });\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 13\n      }\n    });\n  })), pages.map(function (page, index) {\n    var hasChildren = page.children.length;\n    return hasChildren && anchorEl ? __jsx(Popper, {\n      open: menuOpen,\n      anchorEl: anchorEl,\n      role: undefined,\n      transition: true,\n      disablePortal: true,\n      key: page.path,\n      keepMounted: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 11\n      }\n    }, function (_ref) {\n      var TransitionProps = _ref.TransitionProps,\n          placement = _ref.placement;\n      return __jsx(Grow, _extends({}, TransitionProps, {\n        style: {\n          transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 15\n        }\n      }), __jsx(Paper, {\n        classes: {\n          root: classes.menu\n        },\n        elevation: 0,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 17\n        }\n      }, __jsx(ClickAwayListener, {\n        onClickAway: handleMenuClose,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 19\n        }\n      }, __jsx(MenuList, {\n        disablePadding: true,\n        onMouseLeave: handleMenuClose,\n        autoFocusItem: false,\n        id: \"menu-\".concat(page.name),\n        onKeyDown: handleListKeyDown,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 21\n        }\n      }, page.children.map(function (childPage, childIndex) {\n        return __jsx(MenuItem, {\n          key: childPage.path,\n          onClick: function onClick(event) {\n            handleMenuClose();\n            handleTabChange(event, index);\n            handleSubMenuClick(event, index, childIndex);\n            GAevent({\n              category: 'Menu Buttons',\n              action: \"Desktop Tabs \".concat(childPage.name, \" Click\"),\n              label: 'Website Actions',\n              value: '0'\n            });\n          },\n          component: Link,\n          href: childPage.path,\n          classes: {\n            root: classes.menuItem\n          },\n          selected: childIndex === currentPageIndecies[1] && index === currentPageIndecies[0],\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 25\n          }\n        }, childPage.nameLang[language]);\n      })))));\n    }) : '';\n  }), __jsx(DarkModeButton, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 7\n    }\n  }), __jsx(LanguageButton, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 7\n    }\n  }), __jsx(Button, {\n    component: Link,\n    href: \"/estimate\",\n    variant: \"contained\",\n    color: \"secondary\",\n    className: classes.button,\n    onClick: function onClick() {\n      return GAevent({\n        category: 'Estimate',\n        action: 'Desktop Tabs Special Estimate Click',\n        label: 'Website Actions',\n        value: '0'\n      });\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 7\n    }\n  }, siteData.priceEstimate));\n};\n\n_s(TabsMenu, \"1FPOZQdzCUDaEIWyZwZfEmdejuY=\", false, function () {\n  return [useStyles, usePagesContext, useLanguageContext];\n});\n\n_c = TabsMenu;\nexport default TabsMenu;\n\nvar _c;\n\n$RefreshReg$(_c, \"TabsMenu\");","map":{"version":3,"sources":["C:/Users/callf/Desktop/DEV/DigiDigi/vr-nextjs/src/ui/Header/TabsMenu.jsx"],"names":["React","useState","Link","DarkModeButton","Tabs","Tab","Button","makeStyles","MenuItem","MenuList","ClickAwayListener","Grow","Paper","Popper","usePagesContext","event","GAevent","LanguageButton","useLanguageContext","useStyles","theme","toolbarMargin","mixins","toolbar","marginBottom","tabContainer","marginLeft","tab","typography","minWidth","button","estimate","borderRadius","color","menu","backgroundColor","palette","primary","main","zIndex","menuItem","opacity","TabsMenu","props","anchorEl","setAnchorEl","menuOpen","setMenuOpen","classes","pages","currentPageIndecies","setCurrentPageIndecies","handleTabChange","e","value","handleMenuClick","currentTarget","handleMenuClose","handleListKeyDown","key","preventDefault","handleSubMenuClick","parentIndex","index","siteData","language","map","page","hasChildren","children","length","name","undefined","nameLang","path","category","action","label","TransitionProps","placement","transformOrigin","root","childPage","childIndex","priceEstimate"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport Link from '../../Link'\r\nimport { DarkModeButton } from '../DarkModeButton'\r\nimport {\r\n  Tabs,\r\n  Tab,\r\n  Button,\r\n  makeStyles,\r\n  MenuItem,\r\n  MenuList,\r\n  ClickAwayListener,\r\n  Grow,\r\n  Paper,\r\n  Popper,\r\n} from '@material-ui/core/'\r\nimport { usePagesContext } from '../../contexts/PagesContext'\r\nimport { event as GAevent } from '../../functions/gtag'\r\nimport LanguageButton from '../LanguageButton'\r\nimport { useLanguageContext } from '../../contexts/LangContext'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  toolbarMargin: {\r\n    ...theme.mixins.toolbar,\r\n    marginBottom: '3em',\r\n  },\r\n  tabContainer: {\r\n    marginLeft: 'auto',\r\n  },\r\n  tab: {\r\n    ...theme.typography.tab,\r\n    minWidth: 10,\r\n    marginLeft: '10px',\r\n  },\r\n  button: {\r\n    ...theme.typography.estimate,\r\n    borderRadius: '50px',\r\n    marginLeft: '50px',\r\n    color: 'white',\r\n  },\r\n  menu: {\r\n    backgroundColor: theme.palette.primary.main,\r\n    color: 'white',\r\n    borderRadius: '0px',\r\n    zIndex: 1302,\r\n  },\r\n  menuItem: {\r\n    ...theme.typography.tab,\r\n    opacity: 0.7,\r\n    '&:hover': {\r\n      opacity: 1,\r\n    },\r\n    '&.Mui-selected': {\r\n      opacity: 1,\r\n    },\r\n  },\r\n}))\r\n\r\nconst TabsMenu = props => {\r\n  const [anchorEl, setAnchorEl] = useState(null)\r\n  const [menuOpen, setMenuOpen] = useState(false)\r\n\r\n  const classes = useStyles()\r\n  const {\r\n    pages,\r\n    currentPageIndecies,\r\n    setCurrentPageIndecies,\r\n  } = usePagesContext()\r\n\r\n  const handleTabChange = (e, value) => {\r\n    // setCurrentPageIndecies([value, null])\r\n  }\r\n  const handleMenuClick = event => {\r\n    setAnchorEl(event.currentTarget)\r\n    setMenuOpen(true)\r\n  }\r\n  const handleMenuClose = event => {\r\n    setAnchorEl(null)\r\n    setMenuOpen(false)\r\n  }\r\n  const handleListKeyDown = event => {\r\n    if (event.key === 'Tab') {\r\n      event.preventDefault()\r\n      setMenuOpen(false)\r\n    }\r\n  }\r\n  const handleSubMenuClick = (event, parentIndex, index) => {\r\n    setAnchorEl(null)\r\n    setMenuOpen(false)\r\n    // setCurrentPageIndecies([parentIndex, index])\r\n  }\r\n  const { siteData, language } = useLanguageContext()\r\n  return (\r\n    <>\r\n      <Tabs\r\n        value={currentPageIndecies[0]}\r\n        onChange={handleTabChange}\r\n        className={classes.tabContainer}\r\n      >\r\n        {pages.map(page => {\r\n          const hasChildren = page.children.length\r\n          return (\r\n            <Tab\r\n              aria-owns={\r\n                hasChildren && anchorEl ? `menu-${page.name}` : undefined\r\n              }\r\n              aria-haspopup={hasChildren && anchorEl ? true : undefined}\r\n              onMouseOver={\r\n                hasChildren ? event => handleMenuClick(event) : undefined\r\n              }\r\n              label={page.nameLang[language]}\r\n              className={classes.tab}\r\n              component={Link}\r\n              href={page.path}\r\n              key={page.path}\r\n              onClick={() =>\r\n                GAevent({\r\n                  category: 'Menu Buttons',\r\n                  action: `Desktop Tabs ${page.name} Click`,\r\n                  label: 'Website Actions',\r\n                  value: '0',\r\n                })\r\n              }\r\n            />\r\n          )\r\n        })}\r\n      </Tabs>\r\n      {pages.map((page, index) => {\r\n        const hasChildren = page.children.length\r\n        return hasChildren && anchorEl ? (\r\n          <Popper\r\n            open={menuOpen}\r\n            anchorEl={anchorEl}\r\n            role={undefined}\r\n            transition\r\n            disablePortal\r\n            key={page.path}\r\n            keepMounted\r\n          >\r\n            {({ TransitionProps, placement }) => (\r\n              <Grow\r\n                {...TransitionProps}\r\n                style={{\r\n                  transformOrigin:\r\n                    placement === 'bottom' ? 'center top' : 'center bottom',\r\n                }}\r\n              >\r\n                <Paper classes={{ root: classes.menu }} elevation={0}>\r\n                  <ClickAwayListener onClickAway={handleMenuClose}>\r\n                    <MenuList\r\n                      disablePadding\r\n                      onMouseLeave={handleMenuClose}\r\n                      autoFocusItem={false}\r\n                      id={`menu-${page.name}`}\r\n                      onKeyDown={handleListKeyDown}\r\n                    >\r\n                      {page.children.map((childPage, childIndex) => (\r\n                        <MenuItem\r\n                          key={childPage.path}\r\n                          onClick={event => {\r\n                            handleMenuClose()\r\n                            handleTabChange(event, index)\r\n                            handleSubMenuClick(event, index, childIndex)\r\n                            GAevent({\r\n                              category: 'Menu Buttons',\r\n                              action: `Desktop Tabs ${childPage.name} Click`,\r\n                              label: 'Website Actions',\r\n                              value: '0',\r\n                            })\r\n                          }}\r\n                          component={Link}\r\n                          href={childPage.path}\r\n                          classes={{ root: classes.menuItem }}\r\n                          selected={\r\n                            childIndex === currentPageIndecies[1] &&\r\n                            index === currentPageIndecies[0]\r\n                          }\r\n                        >\r\n                          {childPage.nameLang[language]}\r\n                        </MenuItem>\r\n                      ))}\r\n                    </MenuList>\r\n                  </ClickAwayListener>\r\n                </Paper>\r\n              </Grow>\r\n            )}\r\n          </Popper>\r\n        ) : (\r\n          ''\r\n        )\r\n      })}\r\n      <DarkModeButton />\r\n      <LanguageButton />\r\n      <Button\r\n        component={Link}\r\n        href='/estimate'\r\n        variant='contained'\r\n        color='secondary'\r\n        className={classes.button}\r\n        onClick={() =>\r\n          GAevent({\r\n            category: 'Estimate',\r\n            action: 'Desktop Tabs Special Estimate Click',\r\n            label: 'Website Actions',\r\n            value: '0',\r\n          })\r\n        }\r\n      >\r\n        {siteData.priceEstimate}\r\n      </Button>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default TabsMenu\r\n"]},"metadata":{},"sourceType":"module"}